{% extends 'fitness/header.html' %}


{% block content %}

    <div class='error-message'>
        <p>{{ error }} </p>
    </div>

    

    <h1>Total Progress</h1>

    <p>{{noob_tasks}} Noob Quests</p>
    <p>{{easy_tasks}} Easy Quests</p>
    <p>{{medium_tasks}} Medium Quests</p>
    <p>{{hard_tasks}} Hard Quests</p>
    <p>{{expert_tasks}} Expert Quests</p>

    <p>{{total_walk}} Minutes Walked</p>
    <p>{{total_water}} L Water Drank</p>
    <p>{{total_fruit_veg}} Servings of Fruit and Vegetables Consumed</p>
    <p>{{total_dungeons}} Dungeons Explored</p>

    <h1>Milestones</h1>

    
    <ul>
        {% for milestone_id, noob, easy, medium, hard, expert, walk, water, fruit_veg, dungeons, action_points, max_health, sword_name, sword_rank, boots_name, boots_rank, staff_name, staff_rank, armor_name, armor_rank in milestone_info %}

        <!-- Display complete (but unclaimed) milestones at the top -->
        {% if noob_tasks >= noob and easy_tasks >= easy and medium_tasks >= medium and hard_tasks >= hard and expert_tasks >= expert and total_walk >= walk and total_water >= water and total_fruit_veg >= fruit_veg and total_dungeons >= dungeons %}
            <li>
                <div>
                    <h2>Milestone {{milestone_id}}:</h2>
                        {% if noob != 0 %}
                        <p>
                            {{noob_tasks}} of {{noob}} Noob Fit-Quests. <progress value="{{noob_tasks}}" max="{{noob}}"></progress>
                        </p>
                        {% endif %}
        
                        {% if easy != 0 %}
                        <p>
                            {{easy_tasks}} of {{easy}} Easy Fit-Quests. <progress value="{{easy_tasks}}" max="{{easy}}"></progress>
                        </p>
                        {% endif %}
        
                        {% if medium != 0 %}
                        <p>
                            {{medium_tasks}} of {{medium}} Medium Fit-Quests. <progress value="{{medium_tasks}}" max="{{medium}}"></progress>
                        </p>
                        {% endif %}
        
                        {% if hard != 0 %}
                        <p>
                            {{hard_tasks}} of {{hard}} Hard Fit-Quests. <progress value="{{hard_tasks}}" max="{{hard}}"></progress>
                        </p>
                        {% endif %}
        
                        {% if expert != 0 %}
                        <p>
                            {{expert_tasks}} of {{expert}} Expert Fit-Quests. <progress value="{{expert_tasks}}" max="{{expert}}"></progress>
                        </p>
                        {% endif %}
        
                        {% if walk != 0 %}
                        <p>
                            {{total_walk}} of {{walk}} Minutes Walked. <progress value="{{total_walk}}" max="{{walk}}"></progress>
                        </p>
                        {% endif %}
        
                        {% if water != 0 %}
                        <p>
                            {{total_water}} of {{water}} L of Water Drank. <progress value="{{total_water}}" max="{{water}}"></progress>
                        </p>
                        {% endif %}
        
                        {% if fruit_veg != 0 %}
                        <p>
                            {{total_fruit_veg}} of {{fruit_veg}} Servings of Fruits and Vegetables Consumed. <progress value="{{total_fruit_veg}}" max="{{fruit_veg}}"></progress>
                        </p>
                        {% endif %}
        
                        {% if dungeons != 0 %}
                        <p>
                            {{total_dungeons}} of {{dungeons}} Dungeons Explored. <progress value="{{total_dungeons}}" max="{{dungeons}}"></progress>
                        </p>
                        {% endif %}
                    
                    <h3>Rewards:</h3>

                        {% if action_points %}
                        <p>
                            {{action_points}} Action Points.
                        </p>
                        {% endif %}
        
                        {% if max_health %}
                        <p>
                            +{{max_health}} Max Health.
                        </p>
                        {% endif %}
        
                        {% if sword_name %}
                        <p>
                            {{sword_name}}: Rank {{sword_rank}}.
                        </p>
                        {% endif %}
        
                        {% if boots_name %}
                        <p>
                            {{boots_name}}: Rank {{boots_rank}}.
                        </p>
                        {% endif %}
        
                        {% if staff_name %}
                        <p>
                            {{staff_name}}: Rank {{staff_rank}}.
                        </p>
                        {% endif %}
        
                        {% if armor_name %}
                        <p>
                            {{armor_name}}: Rank {{armor_rank}}.
                        </p>
                        {% endif %}
                    
                    <h4><a href="{% url 'dungeon:complete_milestone' milestone_id %}" class="button">Claim Reward</a></h4>
                </div>
            </li>    
        {% endif %}
    {% endfor %}

    {% for milestone_id, noob, easy, medium, hard, expert, walk, water, fruit_veg, dungeons, action_points, max_health, sword_name, sword_rank, boots_name, boots_rank, staff_name, staff_rank, armor_name, armor_rank in milestone_info %}

        <!-- Display incomplete milestones at the bottom -->
    {% if noob_tasks < noob or easy_tasks < easy or medium_tasks < medium or hard_tasks < hard or expert_tasks < expert or total_walk < walk or total_water < water or total_fruit_veg < fruit_veg or total_dungeons < dungeons %}
        <li>
            <div>
                <h2>Milestone {{milestone_id}}:</h2>
                    {% if noob != 0 %}
                    <p>
                        {{noob_tasks}} of {{noob}} Noob Fit-Quests. <progress value="{{noob_tasks}}" max="{{noob}}"></progress>
                    </p>
                    {% endif %}
        
                    {% if easy != 0 %}
                    <p>
                        {{easy_tasks}} of {{easy}} Easy Fit-Quests. <progress value="{{easy_tasks}}" max="{{easy}}"></progress>
                    </p>
                    {% endif %}
        
                    {% if medium != 0 %}
                    <p>
                        {{medium_tasks}} of {{medium}} Medium Fit-Quests. <progress value="{{medium_tasks}}" max="{{medium}}"></progress>
                    </p>
                    {% endif %}
        
                    {% if hard != 0 %}
                    <p>
                        {{hard_tasks}} of {{hard}} Hard Fit-Quests. <progress value="{{hard_tasks}}" max="{{hard}}"></progress>
                    </p>
                    {% endif %}
        
                    {% if expert != 0 %}
                    <p>
                        {{expert_tasks}} of {{expert}} Expert Fit-Quests. <progress value="{{expert_tasks}}" max="{{expert}}"></progress>
                    </p>
                    {% endif %}
        
                    {% if walk != 0 %}
                    <p>
                        {{total_walk}} of {{walk}} Minutes Walked. <progress value="{{total_walk}}" max="{{walk}}"></progress>
                    </p>
                    {% endif %}
        
                    {% if water != 0 %}
                    <p>
                        {{total_water}} of {{water}} L of Water Drank. <progress value="{{total_water}}" max="{{water}}"></progress>
                    </p>
                    {% endif %}
        
                    {% if fruit_veg != 0 %}
                    <p>
                        {{total_fruit_veg}} of {{fruit_veg}} Servings of Fruits and Vegetables Consumed. <progress value="{{total_fruit_veg}}" max="{{fruit_veg}}"></progress>
                    </p>
                    {% endif %}
        
                    {% if dungeons != 0 %}
                    <p>
                        {{total_dungeons}} of {{dungeons}} Dungeons Explored. <progress value="{{total_dungeons}}" max="{{dungeons}}"></progress>
                    </p>
                    {% endif %}
                
                <h3>Rewards:</h3>
    
                    {% if action_points %}
                    <p>
                        {{action_points}} Action Points.
                    </p>
                    {% endif %}
        
                    {% if max_health %}
                    <p>
                        +{{max_health}} Max Health.
                    </p>
                    {% endif %}
        
                    {% if sword_name %}
                    <p>
                        {{sword_name}}: Rank {{sword_rank}}.
                    </p>
                    {% endif %}
        
                    {% if boots_name %}
                    <p>
                        {{boots_name}}: Rank {{boots_rank}}.
                    </p>
                    {% endif %}
        
                    {% if staff_name %}
                    <p>
                        {{staff_name}}: Rank {{staff_rank}}.
                    </p>
                    {% endif %}
        
                    {% if armor_name %}
                    <p>
                        {{armor_name}}: Rank {{armor_rank}}.
                    </p>
                    {% endif %}
    
            </div>
            
        </li>    



    {% endif %}
{% endfor %}
    </ul>

{% endblock %}